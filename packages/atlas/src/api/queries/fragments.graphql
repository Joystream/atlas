fragment VideoCategoryFields on VideoCategory {
  id
  name
}
fragment BasicChannelFields on Channel {
  id
  title
  createdAt
  views
  follows

  avatarPhoto {
    ...StorageDataObjectFields
  }

  ownerMember {
    ...BasicMembershipFields
  }
}

fragment AllChannelFields on Channel {
  ...BasicChannelFields
  description
  isPublic
  isCensored
  language {
    id
    iso
  }
  coverPhoto {
    ...StorageDataObjectFields
  }
}

fragment BasicMembershipFields on Membership {
  id
  handle
  metadata {
    avatar {
      ... on AvatarObject {
        avatarObject {
          ...StorageDataObjectFields
        }
      }
      ... on AvatarUri {
        avatarUri
      }
    }
    about
  }
}

fragment AllMembershipFields on Membership {
  ...BasicMembershipFields
  controllerAccount
  createdAt
  channels {
    ...BasicChannelFields
  }
}

fragment StorageDataObjectFields on StorageDataObject {
  id
  createdAt
  size
  isAccepted
  ipfsHash
  storageBag {
    id
  }
  type {
    __typename
  }
}

fragment DistributionBucketOperatorField on DistributionBucketOperator {
  id
  metadata {
    nodeEndpoint
  }
  status
}
fragment VideoMediaMetadataFields on VideoMediaMetadata {
  id
  pixelHeight
  pixelWidth
}

fragment LicenseFields on License {
  id
  code
  attribution
  customText
}

fragment BasicVideoFields on Video {
  id
  title
  views
  createdAt
  duration
  title
  isPublic
  media {
    ...StorageDataObjectFields
  }
  channel {
    ...BasicChannelFields
  }
  thumbnailPhoto {
    ...StorageDataObjectFields
  }
  nft {
    ...BasicNftFields
  }
}

fragment VideoFields on Video {
  id
  title
  description
  category {
    id
  }
  views
  duration
  createdAt
  isPublic
  isExplicit
  isFeatured
  hasMarketing
  isCensored
  language {
    iso
  }
  publishedBeforeJoystream
  mediaMetadata {
    ...VideoMediaMetadataFields
  }
  media {
    ...StorageDataObjectFields
  }
  thumbnailPhoto {
    ...StorageDataObjectFields
  }
  channel {
    ...BasicChannelFields
  }
  license {
    ...LicenseFields
  }
  nft {
    ...AllNftFields
  }
}

fragment BasicNftFields on OwnedNft {
  id
  createdAt
  creatorRoyalty
  ownerMember {
    ...BasicMembershipFields
  }
  transactionalStatus {
    __typename
  }
}

fragment AllNftFields on OwnedNft {
  id
  createdAt
  creatorRoyalty
  ownerMember {
    ...BasicMembershipFields
  }
  creatorChannel {
    ...BasicChannelFields
  }
  transactionalStatus {
    __typename
    ... on TransactionalStatusIdle {
      dummy
    }
    ... on TransactionalStatusBuyNow {
      price
    }
    ... on TransactionalStatusAuction {
      auction {
        auctionType {
          __typename
          ... on AuctionTypeEnglish {
            duration
            extensionPeriod
            minimalBidStep
            plannedEndAtBlock
          }
          ... on AuctionTypeOpen {
            bidLockDuration
          }
        }
        isCompleted
        initialOwner {
          ...BasicMembershipFields
        }
        buyNowPrice
        startingPrice

        startsAtBlock
        endedAtBlock

        topBid {
          ...AllBidFields
        }
        bids {
          ...AllBidFields
        }

        whitelistedMembers {
          ...BasicMembershipFields
        }
      }
    }
  }
  video {
    ...BasicVideoFields
  }
}

fragment AllBidFields on Bid {
  bidder {
    ...BasicMembershipFields
  }
  amount
  createdAt
  isCanceled
  createdInBlock
  id
}
