query GetComments(
  $limit: Int
  $offset: Int
  $where: CommentWhereInput
  $orderBy: [CommentOrderByInput!] = [createdAt_DESC]
) {
  comments(limit: $limit, offset: $offset, where: $where, orderBy: $orderBy) {
    ...CommentFields
  }
}

query GetCommentsConnection(
  $first: Int
  $after: String
  $where: CommentWhereInput
  $orderBy: [CommentOrderByInput!] = [createdAt_DESC]
) {
  commentsConnection(first: $first, after: $after, where: $where, orderBy: $orderBy) {
    edges {
      cursor
      node {
        ...CommentFields
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
    totalCount
  }
}

query GetUserCommentsAndVideoCommentsConnection(
  $first: Int
  $after: String
  $memberId: ID
  $videoId: ID
  $userCommentswhere: CommentWhereInput
  $videCommentsWhere: CommentWhereInput
  $orderBy: [CommentOrderByInput!] = [createdAt_DESC]
) {
  commentReactions(where: { member: { id_eq: $memberId }, video: { id_eq: $videoId } }, limit: 1000) {
    reactionId
    commentId
  }
  userComments: comments(where: $userCommentswhere, orderBy: [createdAt_DESC]) {
    ...CommentFields
  }
  videoCommentsConnection: commentsConnection(
    first: $first
    after: $after
    where: $videCommentsWhere
    orderBy: $orderBy
  ) {
    edges {
      cursor
      node {
        ...CommentFields
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
    totalCount
  }
}

query GetCommentEdits($commentId: ID!) {
  commentTextUpdatedEvents(where: { comment: { id_eq: $commentId } }) {
    id
    createdAt
    newText
  }
}

query GetOriginalComment($commentId: ID!) {
  commentCreatedEvents(where: { comment: { id_eq: $commentId } }) {
    id
    createdAt
    text
  }
}
