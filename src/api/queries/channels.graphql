fragment CoverPhotoFields on Channel {
  coverPhoto {
    ... on AssetUrl {
      url
    }
    ... on AssetStorage {
      ...AssetUploadStatusFields
    }
  }
}

fragment AvatarPhotoFields on Channel {
  avatarPhoto {
    ... on AssetUrl {
      url
    }
    ... on AssetStorage {
      ...AssetUploadStatusFields
    }
  }
}

fragment BasicChannelFields on Channel {
  id
  title
  createdAt
  avatarPhotoUrl
  ...AvatarPhotoFields
}

fragment AllChannelFields on Channel {
  ...BasicChannelFields
  ...CoverPhotoFields
  follows
  isPublic
}

query GetBasicChannel($where: ChannelWhereUniqueInput!) {
  channel(where: $where) {
    ...BasicChannelFields
  }
}

query GetChannel($where: ChannelWhereUniqueInput!) {
  channel(where: $where) {
    ...AllChannelFields
    description
    isPublic
    isCensored
    coverPhotoUrl
    language {
      name
    }
  }
}

query GetVideoCount($where: VideoWhereInput) {
  videosConnection(first: 0, where: $where) {
    totalCount
  }
}

query GetChannels($where: ChannelWhereInput) {
  channels(where: $where) {
    ...AllChannelFields
  }
}

query GetChannelsConnection($first: Int, $after: String) {
  channelsConnection(first: $first, after: $after, orderBy: createdAt_DESC) {
    edges {
      cursor
      node {
        ...AllChannelFields
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
    totalCount
  }
}

### Orion

# modyfying this query name will need a sync-up in `src/api/client/resolvers.ts`
query GetChannelFollows($channelId: ID!) {
  channelFollows(channelId: $channelId) {
    id
    follows
  }
}

mutation FollowChannel($channelId: ID!) {
  followChannel(channelId: $channelId) {
    id
    follows
  }
}

mutation UnfollowChannel($channelId: ID!) {
  unfollowChannel(channelId: $channelId) {
    id
    follows
  }
}
